<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Platform Detector Test - Kurukshetra Mitra</title>
    
    <!-- CSS -->
    <link rel="stylesheet" href="css/variables.css">
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/typography.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/desktop.css">
    <link rel="stylesheet" href="css/tablet.css">
    <link rel="stylesheet" href="css/mobile.css">
    <link rel="stylesheet" href="css/animations.css">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        .test-container {
            padding: var(--space-8);
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--space-4);
            margin: var(--space-6) 0;
        }
        
        .info-card {
            padding: var(--space-5);
            background: var(--color-bg-tertiary);
            border: var(--border-width-base) solid var(--color-border-light);
            border-radius: var(--radius-lg);
        }
        
        .info-label {
            font-size: var(--text-sm);
            color: var(--color-text-secondary);
            margin-bottom: var(--space-2);
        }
        
        .info-value {
            font-size: var(--text-2xl);
            font-weight: var(--font-weight-semibold);
            color: var(--color-primary);
        }
        
        .info-icon {
            font-size: 32px;
            margin-bottom: var(--space-3);
        }
        
        .console-output {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: var(--space-4);
            border-radius: var(--radius-md);
            font-family: 'Courier New', monospace;
            font-size: var(--text-sm);
            max-height: 400px;
            overflow-y: auto;
            margin: var(--space-6) 0;
        }
        
        .console-line {
            margin-bottom: var(--space-2);
            line-height: 1.5;
        }
        
        .platform-demo {
            display: none;
        }
        
        .platform-mobile .mobile-demo,
        .platform-tablet .tablet-demo,
        .platform-desktop .desktop-demo {
            display: block;
        }
        
        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: var(--space-2);
            animation: pulse 2s ease-in-out infinite;
        }
        
        .status-active {
            background: var(--color-success);
        }
    </style>
</head>
<body>
    <div class="test-container fade-in">
        <!-- Header -->
        <header style="text-align: center; margin-bottom: var(--space-8);">
            <h1 class="heading-display">üîç Platform Detector Test</h1>
            <p class="text-lead" style="color: var(--color-text-secondary);">
                Resize your browser or open DevTools to see it in action!
            </p>
            <div style="margin-top: var(--space-4);">
                <span class="status-indicator status-active"></span>
                <span style="color: var(--color-success); font-weight: var(--font-weight-semibold);">
                    Platform Detector Active
                </span>
            </div>
        </header>
        
        <!-- Live Platform Info -->
        <section class="card card-elevated mb-8">
            <h2 class="heading-section mb-6">
                <i class="fas fa-info-circle"></i> Live Platform Information
            </h2>
            
            <div class="info-grid">
                <div class="info-card text-center">
                    <div class="info-icon" id="platformIcon">üì±</div>
                    <div class="info-label">Platform</div>
                    <div class="info-value" id="platformType">Detecting...</div>
                </div>
                
                <div class="info-card text-center">
                    <div class="info-icon">üìè</div>
                    <div class="info-label">Screen Size</div>
                    <div class="info-value" id="screenSize">-</div>
                </div>
                
                <div class="info-card text-center">
                    <div class="info-icon">üìê</div>
                    <div class="info-label">Orientation</div>
                    <div class="info-value" id="orientation">-</div>
                </div>
                
                <div class="info-card text-center">
                    <div class="info-icon">üëÜ</div>
                    <div class="info-label">Touch Support</div>
                    <div class="info-value" id="touchSupport">-</div>
                </div>
                
                <div class="info-card text-center">
                    <div class="info-icon">üíª</div>
                    <div class="info-label">Operating System</div>
                    <div class="info-value" id="osInfo">-</div>
                </div>
                
                <div class="info-card text-center">
                    <div class="info-icon">üåê</div>
                    <div class="info-label">Browser</div>
                    <div class="info-value" id="browserInfo">-</div>
                </div>
            </div>
        </section>
        
        <!-- Platform-Specific Content -->
        <section class="mb-8">
            <h2 class="heading-section mb-6">
                <i class="fas fa-eye"></i> Platform-Specific Content
            </h2>
            
            <!-- Mobile Content -->
            <div class="alert alert-info platform-demo mobile-demo">
                <div class="alert-icon"><i class="fas fa-mobile-alt"></i></div>
                <div class="alert-content">
                    <div class="alert-title">Mobile View Active</div>
                    <div class="alert-message">
                        You're viewing on a mobile device! Touch-optimized UI is active.
                    </div>
                </div>
            </div>
            
            <!-- Tablet Content -->
            <div class="alert alert-success platform-demo tablet-demo">
                <div class="alert-icon"><i class="fas fa-tablet-alt"></i></div>
                <div class="alert-content">
                    <div class="alert-title">Tablet View Active</div>
                    <div class="alert-message">
                        You're viewing on a tablet! Balanced layout is active.
                    </div>
                </div>
            </div>
            
            <!-- Desktop Content -->
            <div class="alert alert-warning platform-demo desktop-demo">
                <div class="alert-icon"><i class="fas fa-desktop"></i></div>
                <div class="alert-content">
                    <div class="alert-title">Desktop View Active</div>
                    <div class="alert-message">
                        You're viewing on desktop! Full-featured UI with hover effects is active.
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Console Output -->
        <section class="card mb-8">
            <h2 class="heading-section mb-6">
                <i class="fas fa-terminal"></i> Console Output (Live)
            </h2>
            <p class="text-secondary mb-4">
                Open your browser console (F12) to see detailed logs. Here's a preview:
            </p>
            <div class="console-output" id="consoleOutput">
                <div class="console-line">Waiting for platform detector...</div>
            </div>
        </section>
        
        <!-- API Reference -->
        <section class="card card-elevated mb-8">
            <h2 class="heading-section mb-6">
                <i class="fas fa-code"></i> API Reference
            </h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <h4 class="mb-3">Detection Methods</h4>
                    <ul style="list-style: disc; padding-left: var(--space-6); line-height: var(--leading-loose);">
                        <li><code>platform.isMobile()</code></li>
                        <li><code>platform.isTablet()</code></li>
                        <li><code>platform.isDesktop()</code></li>
                        <li><code>platform.isPortrait()</code></li>
                        <li><code>platform.isLandscape()</code></li>
                        <li><code>platform.isTouchDevice()</code></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="mb-3">Properties</h4>
                    <ul style="list-style: disc; padding-left: var(--space-6); line-height: var(--leading-loose);">
                        <li><code>platform.platform</code></li>
                        <li><code>platform.width</code></li>
                        <li><code>platform.height</code></li>
                        <li><code>platform.orientation</code></li>
                        <li><code>platform.os</code></li>
                        <li><code>platform.browser</code></li>
                    </ul>
                </div>
            </div>
            
            <div class="mt-6">
                <h4 class="mb-3">Usage Example</h4>
                <pre style="background: #f5f5f5; padding: var(--space-4); border-radius: var(--radius-md); overflow-x: auto;"><code>// Initialize
const platform = PlatformDetector.init();

// Check platform
if (platform.isMobile()) {
    console.log('Mobile device detected!');
}

// Get info
console.log(`Platform: ${platform.platform}`);
console.log(`Size: ${platform.width}x${platform.height}`);</code></pre>
            </div>
        </section>
        
        <!-- Test Actions -->
        <section class="text-center">
            <h2 class="heading-section mb-6">
                <i class="fas fa-vial"></i> Test Actions
            </h2>
            
            <div class="btn-group" style="justify-content: center;">
                <button class="btn btn-primary" onclick="refreshInfo()">
                    <i class="fas fa-sync-alt"></i> Refresh Info
                </button>
                <button class="btn btn-secondary" onclick="toggleLogging()">
                    <i class="fas fa-terminal"></i> Toggle Logging
                </button>
                <button class="btn btn-outline" onclick="showDevTools()">
                    <i class="fas fa-tools"></i> Open DevTools
                </button>
            </div>
            
            <p class="mt-6 text-secondary">
                <strong>üí° Tip:</strong> Resize your browser window or use DevTools device emulation to test different platforms!
            </p>
        </section>
    </div>
    
    <!-- JavaScript -->
    <script src="js/platform-detector.js"></script>
    <script>
        // Console output capture
        const consoleOutput = document.getElementById('consoleOutput');
        const originalLog = console.log;
        const logs = [];
        
        // Override console.log to capture output
        console.log = function(...args) {
            originalLog.apply(console, args);
            const message = args.join(' ');
            logs.push(message);
            if (logs.length > 20) logs.shift(); // Keep last 20 logs
            updateConsoleOutput();
        };
        
        function updateConsoleOutput() {
            consoleOutput.innerHTML = logs
                .map(log => `<div class="console-line">${escapeHtml(log)}</div>`)
                .join('');
            consoleOutput.scrollTop = consoleOutput.scrollHeight;
        }
        
        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }
        
        // Initialize Platform Detector
        let platform = PlatformDetector.init();
        
        // Update UI with platform info
        function updateUI() {
            const info = platform;
            
            // Update platform type
            const platformType = document.getElementById('platformType');
            const platformIcon = document.getElementById('platformIcon');
            platformType.textContent = info.platform.toUpperCase();
            platformIcon.textContent = info.isMobile() ? 'üì±' : 
                                      info.isTablet() ? 'üì≤' : 'üñ•Ô∏è';
            
            // Update screen size
            document.getElementById('screenSize').textContent = 
                `${info.width}√ó${info.height}`;
            
            // Update orientation
            document.getElementById('orientation').textContent = 
                info.orientation.toUpperCase();
            
            // Update touch support
            document.getElementById('touchSupport').textContent = 
                info.hasTouch ? 'YES' : 'NO';
            
            // Update OS
            document.getElementById('osInfo').textContent = info.os;
            
            // Update browser
            document.getElementById('browserInfo').textContent = info.browser;
        }
        
        // Refresh info
        function refreshInfo() {
            console.log('üîÑ Refreshing platform information...');
            platform = PlatformDetector.get();
            updateUI();
            console.log('‚úÖ Information refreshed!');
        }
        
        // Toggle logging
        let loggingEnabled = true;
        function toggleLogging() {
            loggingEnabled = !loggingEnabled;
            PlatformDetector.setLogging(loggingEnabled);
            console.log(`Logging ${loggingEnabled ? 'enabled' : 'disabled'}`);
        }
        
        // Show DevTools message
        function showDevTools() {
            alert('Press F12 (Windows/Linux) or Cmd+Option+I (Mac) to open DevTools!\n\nThen go to Console tab to see detailed logs.');
        }
        
        // Listen for platform changes
        window.addEventListener('platformChange', (e) => {
            console.log('üì± Platform change event received:', e.detail);
            updateUI();
        });
        
        window.addEventListener('orientationChange', (e) => {
            console.log('üìê Orientation change event received:', e.detail);
            updateUI();
        });
        
        // Initial UI update
        updateUI();
        
        // Log success
        console.log('‚úÖ Platform Detector Test Page Ready!');
        console.log('üí° Try resizing the browser window!');
    </script>
</body>
</html>
