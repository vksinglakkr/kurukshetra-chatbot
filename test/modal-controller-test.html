<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modal Controller Test - Kurukshetra Mitra</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: system-ui; background: linear-gradient(135deg, #fdfbf7 0%, #e6d5c3 100%); min-height: 100vh; padding: 2rem; }
        .container { max-width: 1200px; margin: 0 auto; }
        .hero { text-align: center; margin-bottom: 2rem; }
        .hero h1 { font-size: 2.5rem; color: #8B4513; margin-bottom: 0.5rem; }
        .card { background: white; padding: 2rem; border-radius: 20px; box-shadow: 0 10px 40px rgba(139,69,19,0.15); margin-bottom: 2rem; }
        .card-title { font-size: 1.5rem; color: #8B4513; margin-bottom: 1.5rem; border-bottom: 2px solid #e6d5c3; padding-bottom: 1rem; }
        .btn-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; }
        .btn { padding: 1rem; background: linear-gradient(135deg, #8B4513 0%, #A0522D 100%); color: white; border: none; border-radius: 10px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: transform 0.2s; }
        .btn:hover { transform: translateY(-2px); }
        .btn-secondary { background: linear-gradient(135deg, #d4af37 0%, #b8960f 100%); }
        .stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem; margin: 2rem 0; }
        .stat-card { background: linear-gradient(135deg, #8B4513 0%, #A0522D 100%); color: white; padding: 1.5rem; border-radius: 15px; text-align: center; }
        .stat-number { font-size: 2rem; font-weight: bold; display: block; margin-bottom: 0.5rem; }
    </style>
</head>
<body>
    <div class="container">
        <div class="hero">
            <h1>ğŸªŸ Modal Controller Test</h1>
            <p style="color: #666;">Beautiful Popups & Overlays</p>
        </div>
        
        <div class="stats" id="stats"></div>
        
        <div class="card">
            <h2 class="card-title"><i class="fas fa-window-restore"></i> Content Modals</h2>
            <div class="btn-grid">
                <button class="btn" onclick="testSiteDetail()"><i class="fas fa-map-marker"></i> Site Detail</button>
                <button class="btn" onclick="testQuestion()"><i class="fas fa-question-circle"></i> Question</button>
                <button class="btn" onclick="testWeather()"><i class="fas fa-cloud-sun"></i> Weather</button>
                <button class="btn" onclick="testEvents()"><i class="fas fa-calendar"></i> Events</button>
                <button class="btn" onclick="testDirections()"><i class="fas fa-route"></i> Directions</button>
            </div>
        </div>
        
        <div class="card">
            <h2 class="card-title"><i class="fas fa-bell"></i> Alert & Confirm Modals</h2>
            <div class="btn-grid">
                <button class="btn btn-secondary" onclick="testAlert()"><i class="fas fa-exclamation-triangle"></i> Alert</button>
                <button class="btn btn-secondary" onclick="testConfirm()"><i class="fas fa-question"></i> Confirm</button>
                <button class="btn btn-secondary" onclick="testCustom()"><i class="fas fa-star"></i> Custom</button>
            </div>
        </div>
        
        <div class="card">
            <h2 class="card-title"><i class="fas fa-layer-group"></i> Multiple Modals</h2>
            <div class="btn-grid">
                <button class="btn" onclick="testStacking()"><i class="fas fa-clone"></i> Stack Modals</button>
                <button class="btn" onclick="testSizes()"><i class="fas fa-expand"></i> Different Sizes</button>
            </div>
        </div>
        
        <div class="card">
            <h2 class="card-title"><i class="fas fa-tools"></i> Control</h2>
            <div class="btn-grid">
                <button class="btn" onclick="modal.closeTop()" style="background: #e74c3c;"><i class="fas fa-times"></i> Close Top</button>
                <button class="btn" onclick="modal.closeAll()" style="background: #c0392b;"><i class="fas fa-times-circle"></i> Close All</button>
            </div>
        </div>
    </div>
    
    <script src="js/modal-controller.js"></script>
    <script>
        console.log('ğŸ‰ Modal Controller Test Page Loading...');
        
        const modal = ModalController.init();
        
        function updateStats() {
            document.getElementById('stats').innerHTML = `
                <div class="stat-card">
                    <span class="stat-number">${modal.getModalCount()}</span>
                    <span style="font-size: 0.9rem;">Active Modals</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number">${modal.hasActiveModals() ? 'âœ…' : 'âŒ'}</span>
                    <span style="font-size: 0.9rem;">Has Modals</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number">v${modal.version}</span>
                    <span style="font-size: 0.9rem;">Version</span>
                </div>
            `;
        }
        
        setInterval(updateStats, 500);
        updateStats();
        
        // Mock data
        const mockSite = {
            name: 'Brahma Sarovar',
            description: 'Sacred water tank believed to be created by Lord Brahma. One of Asia\'s largest sacred tanks, measuring approximately 3600 feet x 1500 feet.',
            location: { address: 'Brahma Sarovar Road, Kurukshetra' },
            timings: 'Open 24 hours',
            entryFee: 'Free',
            duration: '2-3 hours',
            bestTimeToVisit: 'Early morning for holy bath',
            facilities: ['Changing Rooms', 'Parking', 'Temples', 'Gardens', 'Museum']
        };
        
        const mockQuestion = {
            question: 'Why is Kurukshetra important for Hindus?',
            answer: 'Kurukshetra is one of the holiest places in Hinduism where the epic Mahabharata war was fought and Lord Krishna delivered the Bhagavad Gita. It\'s considered a sacred land of Dharma (righteousness) and is believed to be the place where Lord Brahma performed creation.',
            category: 'Religious Significance'
        };
        
        const mockWeather = {
            location: 'Kurukshetra, Haryana',
            temp: 22,
            feels_like: 20,
            humidity: 65,
            description: 'Clear sky',
            wind_speed: 3.5,
            sunrise: '06:45',
            sunset: '17:30'
        };
        
        const mockEvents = [
            {
                title: 'Gita Jayanti Celebration',
                date: '2026-12-21',
                location: 'Brahma Sarovar',
                description: 'Annual celebration of the day Bhagavad Gita was spoken'
            },
            {
                title: 'International Gita Mahotsav',
                date: '2026-12-15',
                location: 'Various venues',
                description: 'Week-long cultural festival with performances and exhibitions'
            }
        ];
        
        const mockDirections = {
            distance: '170 km',
            duration: '3-4 hours',
            routes: [{
                name: 'Via NH-44 (Fastest)',
                distance: '170 km',
                duration: '3 hours',
                steps: [
                    'Take NH-44 from Delhi',
                    'Continue through Panipat',
                    'Exit at Kurukshetra'
                ]
            }]
        };
        
        // Test functions
        function testSiteDetail() {
            modal.showSiteDetail(mockSite);
        }
        
        function testQuestion() {
            modal.showQuestion(mockQuestion);
        }
        
        function testWeather() {
            modal.showWeather(mockWeather);
        }
        
        function testEvents() {
            modal.showEvents(mockEvents);
        }
        
        function testDirections() {
            modal.showDirections(mockDirections);
        }
        
        function testAlert() {
            modal.alert('This is an alert message!', {
                title: 'Important Notice',
                icon: 'ğŸ“¢'
            });
        }
        
        async function testConfirm() {
            const result = await modal.confirm('Do you want to proceed?', {
                title: 'Confirmation Required',
                confirmText: 'Yes, Continue',
                cancelText: 'No, Cancel'
            });
            
            modal.alert(result ? 'You clicked Confirm!' : 'You clicked Cancel!');
        }
        
        function testCustom() {
            modal.open({
                title: 'Custom Modal',
                content: '<div style="text-align: center; padding: 2rem;"><h2 style="color: #8B4513; margin-bottom: 1rem;">ğŸ¨ Custom Content!</h2><p>You can put anything here!</p></div>',
                size: 'medium',
                buttons: [
                    { text: 'Cool!', primary: true }
                ]
            });
        }
        
        function testStacking() {
            modal.open({
                title: 'First Modal',
                content: '<p>This is the first modal. Click the button to open another!</p>',
                buttons: [
                    { 
                        text: 'Open Another', 
                        primary: true, 
                        closeOnClick: false,
                        onClick: () => {
                            modal.open({
                                title: 'Second Modal',
                                content: '<p>This is stacked on top! You can open more...</p>',
                                buttons: [
                                    { 
                                        text: 'Open Third!', 
                                        primary: true,
                                        closeOnClick: false,
                                        onClick: () => {
                                            modal.alert('Third modal! ğŸ‰');
                                        }
                                    }
                                ]
                            });
                        }
                    }
                ]
            });
        }
        
        function testSizes() {
            const sizes = ['small', 'medium', 'large'];
            sizes.forEach((size, i) => {
                setTimeout(() => {
                    modal.open({
                        title: `${size.toUpperCase()} Modal`,
                        content: `<p style="text-align: center; padding: 2rem;">This is a ${size} sized modal!</p>`,
                        size: size
                    });
                }, i * 500);
            });
        }
        
        console.log('âœ… Test page ready!');
        console.log('');
        console.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
        console.log('ğŸªŸ MODAL CONTROLLER LOADED!');
        console.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
        console.log('ğŸ’¡ Try clicking the buttons to test different modals!');
        console.log('âŒ¨ï¸  Press ESC to close any modal');
        console.log('ğŸ–±ï¸  Click outside modal to close');
        console.log('');
    </script>
</body>
</html>
